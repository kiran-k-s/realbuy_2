<!doctype html>
<html lang="en">
{% load static %}

    
<head><title>Contact Us</title>
    
<script
        src="https://code.jquery.com/jquery-3.5.0.min.js"
        integrity="sha256-xNzN2a4ltkB44Mc/Jz3pT4iU1cmeR0FkXs4pru/JxaQ="
        crossorigin="anonymous"></script> 

</head>
<body>


<h1>Contact Us</h1>



<form id='contactForm' method='POST'>
    {% csrf_token %}
    <div id="error_message"></div>
    {{ form.as_p }}
    
    <button class="btn btn-lg btn-danger btn-block" type="submit">submit</button>
</form>

<script type="text/javascript">
const form = document.getElementById('contactForm');
form.addEventListener("submit", submitHandler);

function submitHandler(e) {
    e.preventDefault();
    $.ajax({
        type        : 'POST', // define the type of HTTP verb we want to use (POST for our form)
        url         : '{% url 'contactus' %}', // the url where we want to POST
        data        : $('#contactForm').serialize(), // our form data
        dataType    : 'json', // what type of data do we expect back from the server
        success     : successFunction
    });
}

function successFunction(data) {
    if (data.message === 'success') {
        alert('Success!');
        form.reset()
    }
}
</script>
 

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
        integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
        crossorigin="anonymous"></script>
</body>
</html>


    
<!--<form class="form-add_data" id="cform" method="POST">  
        {% csrf_token %}
        <input type="text" id="inputName" placeholder="Name"  onblur="nameValidate();" required></input>
        <div style="padding-left:39px;" class="error_msg" id="nameError"></div>
        <input type="email" id="inputEmail" placeholder="Email address" required onblur="mailValidate();">
        <div style="padding-left:39px;" class="error_msg" id="mailError"></div>
        <input type="number" id="inputPhone" placeholder="Phone Number" required onblur="numberValidate();">
        <div style="padding-left:39px;" class="error_msg" id="phoneError"></div>
        <textarea type="text" id="inputMessage" placeholder="Description" required onblur="messageValidate();"></textarea>
        <div style="padding-left:39px;" class="error_msg" id="descriptionError"></div>

        
        <button class="btn btn-lg btn-danger btn-block" type="submit" id="fbutton">submit</button>
</form> -->


                       



