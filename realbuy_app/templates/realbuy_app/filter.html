<!doctype html>
<html lang="en">
{% load static %}
{% load humanize %}
{% load socialaccount %}
{% providers_media_js %}
{% load property_tags %}    
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Search results</title>
    <!-- Bootstrap core CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <!-- Google fonts -->    
<style>
    @font-face {
    font-family: 'Antipasto';
    src: local('Antipasto'),
                        url('{% static 'realbuy_app/fonts/Antipasto.ttf' %} ');
    }
</style>
<style type="text/css">
    
    body { 
        background: url('{% static "realbuy_app/images/bg.png" %}') no-repeat center center fixed; 
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
    }
         
</style>
<style type="text/css">
.carousel-control-next-icon {
    position: fixed;
    top: 170px;
    left: 1320px;
    height: 10px;
    background-image: url('{% static "realbuy_app/images/featured/next_arrow.png" %}');

}
.carousel-control-prev-icon{
    position: fixed;
    top: 170px;
    left: 1280px;
    height: 10px;
    background-image: url('{% static "realbuy_app/images/featured/prev_arrow.png" %}');
}
.carousel-control-prev {
  width: 0px;
  height: 0px;
}
.carousel-control-next {
  width: 0px;
  height: 0px;
}
.carousel .carousel-indicators{
  bottom: -40px !important;
}
</style>
    <!-- Custom styles for this template -->
<link href="{% static 'realbuy_app/styles/home.css' %}" rel="stylesheet"> 
<link href="{% static 'realbuy_app/styles/filter.css' %}" rel="stylesheet">
<link href="{% static 'realbuy_app/styles/recent.css' %}" rel="stylesheet">
</head>
    
<body>
{% include "realbuy_app/popup.html" %}

<img id="filter-logo" src="{% static 'realbuy_app/images/logo_small.png' %}" >    
<span id="filter-head-1">Search</span><span id="filter-head-2"> Results</span>
    
{% if user.is_authenticated %}
    <a href='{% url 'logout' %}'>
    <button type="button" class="home-top-right" id="home-logout" >LOGOUT</button>
    </a>
    <a href='{% url 'profile' user.profile.id %}'>
    <button type="button" class="home-filter" id="home-profile">MY PROFILE</button>
    </a>
{% else %}
    <button type="button" class="home-top-right" id="home-login" onclick="togglePopupLogin()">LOGIN</button>
   
{% endif %}
    
<a href='{% url 'home' %}'>
<button type="button" class="home-top-right" id="home-top-right-1">HOME</button>
</a>
<a href='{% url 'about_us' %}'>
<button type="button" class="home-top-right" id="home-top-right-2">ABOUT US</button>
</a>
<a href='{% url 'featured' %}'>
<button type="button" class="home-top-right" id="home-top-right-3">FEATURED PROPERTIES</button>
</a>
<a href='{% url 'recent' %}'>
<button type="button" class="home-top-right" id="home-top-right-4">RECENT PROPERTIES</button>
</a>
<a href='{% url 'add1' %}'>
<button type="button" class="home-top-right" id="home-top-right-5">ADD PROPERTY</button>
</a>
<a href='{% url 'contactus' %}'>
<button type="button" class="home-top-right" id="home-top-right-6">CONTACT US</button>
</a>
<div id="filter-big-box-1"></div>
<div id="filter-big-box-2"></div>    
<form method="get" action="{% url 'category_filter2' %}">
      <input class="filter-location-1" type="text" list="location2" name="location1" id="location1" placeholder="LOCATION (ANY)" autocomplete="off"/>
      <datalist id="location2" name="location2" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">
            <option style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Trivandrum</option>
            <option style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Thrissur</option>
            <option style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Ernamkulam</option>
      </datalist>
      <select class="filter-property-status" id="property_status" name="property_status">
      <option hidden disabled selected value>PROPERTY STATUS</option>
      <option value="ready to move" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Ready to move</option>
      <option value="under construction" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Under Construction</option>
      <option value="sell" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Sell</option>
      <option value="rent" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Rent</option>
      <option value="resale" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">Resale</option>
      <option value="new" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">New Booking</option>
      </select>
      <select class="filter-areamin" id="areamin" name="areamin">
      <option hidden disabled selected>AREA MIN SQUAREFEET</option>
      <option value="1000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">1000</option>
      <option value="5000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">5000</option>
      <option value="10000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);"> 10000</option>
      <option value="25000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">25000</option>
      <option value="50000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">50000</option>
      </select>
      <select class="filter-areamax" id="areamax" name="areamax" >
      <option hidden disabled selected>AREA MAX SQUAREFEET</option>
      <option value="5000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);"> 5000</option>
      <option value="10000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);"> 10000</option>
      <option value="25000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">25000</option>
      <option value="50000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">50000</option>
      <option value="100000" style="color: rgba(140, 140, 140, 1);background-color: rgba(22, 22, 22, 1);">100000</option>
      </select>
    
      <button type="submit" id="filter_submit">SEARCH</button>
</form>
    
<a href="{% url 'category_filter1' 'commercial' %}"><button type="button" class="recentTopRight" id="recentTopRight1">COMMERCIAL</button></a>
<a href="{% url 'category_filter1' 'furnished home'|slugify %}"><button type="button" class="recentTopRight" id="recentTopRight2">FURNISHED HOMES</button></a>
<a href="{% url 'category_filter1' 'land and plot'|slugify %}"><button type="button" class="recentTopRight" id="recentTopRight3">LAND&amp;PLOT</button></a>
<a href="{% url 'category_filter1' 'rental' %}"><button type="button" class="recentTopRight" id="recentTopRight4">RENTAL</button></a>
{% if composite_list %}
<div class="filter-container">
    <div id="filterCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
      <ol class="carousel-indicators">
        {% for prop in composite_list %}
        <li data-target="#filterCarousel" data-slide-to="{{forloop.counter0}}" class="{% if forloop.counter0 == 0 %} active {% endif %}"></li>
        {% endfor %}
      </ol>  
      <div class="carousel-inner">
         
        
        {% for prop in composite_list %}
        <div class="carousel-item {% if forloop.counter0 == 0 %} active {% endif %}">
               
                <div class="filter-grid">

                    {% for property in prop %}
                    <div class="filter-grid-content">
                        <a href="{% url 'detail' property.id %}">
                        <img class ="filter-image" src="{{property.image.url}}">
                        </a>
                        
                        {% if property.sell_or_rent == 'sell' %}
                        <div class="filter-sell"> ON SALE </div>
                        {% else %}
                        <div class="filter-rent"> ON RENT </div>
                        {% endif %}
                        <div class="filter-price">
                        <span class="filter-price-1">&#8377; </span>
                        {% if property.sell_or_rent == 'rent' %}
                            <span class="filter-price-2">{{ property.price|intcomma}}/Month</span>
                            {% else %}
                            <span class="filter-price-2">{{property.price|intcomma}}</span>
                        {% endif %}
                        </div>
                        <span class="filter-type-and-loc">TYPE & LOCATION:</span>
                        <div class="filter-location">{{property.property_type}}/{{ property.location |lower|capfirst}}</div>
                        <span class="filter-plot-area">PLOT AREA:</span>
                        <div class="filter-area">
                        <span class="filter-area-1">{{ property.built_up_area|floatformat|intcomma}}</span>
                        <span class="filter-area-2">{{ property.built_up_unit | capfirst}}</span>
                        </div>
                        <span class="filter-society">SOCIETY:</span>
                        <div class="filter-city"> {{ property.address | title }}</div>
                        <span class="filter-description-head">DESCRIPTION:</span>
                        <div class="filter-description"> {{ property.description }} </div>
                        <span class="filter-posted">POSTED:</span>
                        <div class="filter-date"> {{ property.date }}</div>
                        <div class="filter-task-bar"></div>

                        <div>
                            <a href="mailto:{{property.ownership.profile.email}}">
                                    <img class="filter-mail-image" src="{% static 'realbuy_app/images/mail_white.png' %}">
                            </a>
                            <span class="filter-mail">SEND MAIL</span>
                        </div>
                        <div>
                            
                            <a href="#">
                                <img class="filter-phone-image" src="{% static 'realbuy_app/images/call_white.png' %}" onclick="togglePopup2()">
                            </a>
                            <span class="filter-phone">PHONE NUMBER</span>
                        </div>
                        <div>
                            
                            <form action="{% url 'like_filter' property.pk %}" method="POST">
                            {% csrf_token %}
                                {% if like_dict|get_value_from_dict:property.id %}
                                <button class="filter-shortlist-button" type="submit" name="post_id" value="{{ property.id }}"><img class="filter-shortlist-image" src="{% static 'realbuy_app/images/fav_select.png' %}"></button>
                                {% else %}
                                <button class="filter-shortlist-button" type="submit" name="post_id" value="{{ property.id }}"><img class="filter-shortlist-image" src="{% static 'realbuy_app/images/fav_white.png' %}"></button>
                                {% endif %}
                            </form>
                          
                            <span class="filter-shortlist">SHORTLIST</span>
                        </div>
                        <div>
                            <a href="#">
                                <img class="filter-map-image" src="{% static 'realbuy_app/images/map_white.png' %}">
                            </a>
                            <span class="filter-map">MAP</span>
                        </div>
                        <div>
                            <a href="#">
                                <img class="filter-share-image" src="{% static 'realbuy_app/images/sharing_white.png' %}">
                            </a>
                            <span class="filter-share">SHARE</span>
                        </div>
      
                    </div>     
                    {% endfor %}

                </div>  
                     
        </div>
        {% endfor %}



      </div>
      <a class="carousel-control-prev" href="#filterCarousel" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#filterCarousel" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div> 

</div>

{% else %}
<h1 style="color:red; text-align:center; position: absolute;
top: 250px;">No results found!!! 
</h1>
{% endif %}
    
<a href="https://www.facebook.com/real.buy.5439/">
<img src="{% static 'realbuy_app/images/fb.png' %}" id="filter-fb">
</a>
<a href="https://twitter.com/realbuy2">
<img src="{% static 'realbuy_app/images/twitter.png' %}" id="filter-twitter">
</a>
<a href="https://myaccount.google.com/u/2/">
<img src="{% static 'realbuy_app/images/google.png' %}" id="filter-google">
</a>
<span id="filter-copyright">&copy; 2016. realbuy.com. All rights reserved.</span>

<!-- phone number popup -->

<div class="popup" id="filter-popup-2">
  <div class="overlay"></div>
  <div class="content">
    <div id="filter-popup-box2"></div>

    <!-- <img id="filter-popup-close" src="{% static 'realbuy_app/images/popup_close.png' %}" onclick="togglePopup2()"> -->
    <span id="filter-popup-phone">+91 {{property.ownership.profile.phone}}</span>
  </div>
</div>


<script>

function togglePopup2(){
  document.getElementById("detail-popup-2").classList.toggle("active");
}
</script>

<script>
function togglePopupLogin(){
  document.getElementById("home-popup").classList.toggle("active");
}
</script>

<script>
function togglePopupRegister(){
  document.getElementById("register-popup").classList.toggle("active");
}
</script>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
</body>
</html>

